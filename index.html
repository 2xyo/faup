<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Faup by stricaud</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Faup</h1>
          <h2>Fast URL decoder library</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/stricaud/faup/blob/master/packages/faup13.zip?raw=true" id="download-win32" class="button"><span>Windows</span></a>
          <a href="https://github.com/stricaud/faup/blob/master/packages/faup13_darwinx86_64.dmg?raw=true" id="download-macos" class="button"><span>MACOS X x86_64</span></a>
          <a href="https://github.com/stricaud/faup" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p align="center"><img src="doc/images/faup-logo.png"></p>

<p><strong>Faup</strong> stands for Finally An Url Parser and is a <strong>library</strong> and <strong>command line tool</strong> to parse URLs and normalize fields with two constraints:</p>

<ol>
<li>Work with real-life urls (resilient to badly formated ones)</li>
<li>Be fast: no allocation for string parsing and read characters only once</li>
</ol><ul>
<li>
<strong>Mailing List</strong>: <a href="https://groups.google.com/d/forum/libfaup">libfaup@googlegroups.com</a>
</li>
<li>
<strong>Documentation</strong>: [<a href="https://github.com/stricaud/faup/blob/master/doc/library.md">Library</a>] - [<a href="https://github.com/stricaud/faup/blob/master/doc/cli.md">Faup Tool</a>]
</li>
</ul>

<h2><a name="what-can-faup-do" class="anchor" href="#what-can-faup-do-for-me"><span class="octicon octicon-link"></span></a>What can Faup do for me?</h2>

<p>
Extract various elements from an URL with no pain. The fields we get are: <strong>scheme</strong>, <strong>credential</strong>, <strong>subdomain</strong>, <strong>domain</strong>, <strong>host</strong>, <strong>tld</strong>, <strong>port</strong>, <strong>resource path</strong>, <strong>query string</strong> and <strong>fragment</strong> ('#'). Ever dreamed of giving urls to a command line tool doing it? Faup exists!
</p>

<pre><code>$ faup -f domain www.github.com
github.com
</code></pre>

<h2><a name="why-yet-another-url-extraction-library" class="anchor" href="#why-yet-another-url-extraction-library"><span class="octicon octicon-link"></span></a>Why Yet Another URL Extraction Library?</h2>

<p>Because they all suck. Find a library that can extract, say, a TLD even if you have 
an IP address, or http://localhost, or anything that may confuse your regex so much
that you end up with an unmaintainable one.</p>

<p>You can see all those failures on the <a href="http://regexlib.com/Search.aspx?k=URL">regex library webpage here</a>.</p>

<p>Here's a buch of example with faup run on various urls to extract the TLD:
<table>
<tr>
<th>URL</th>
<th>Faup TLD extraction</th>
<th>Comments</th>
</tr>
<tr>
<td>www.example.co.uk</td>
<td>co.uk</td>
<td>TLD &gt; 1</td>
</tr>
<tr>
<td>www.example.bl.uk</td>
<td>uk</td>
<td>bl is an exception in uk TLD extraction</td>
</tr>
<tr>
<td>192.168.0.42</td>
<td></td>
<td>IPv4 address, no TLD</td>
</tr>
<tr>
<td>www.tagada.42</td>
<td>42</td>
<td>This is not an IP address, 42 is right</td>
</tr>
<tr>
<td>www.example.paris</td>
<td>paris</td>
<td>GTLD extracted smoothly</td>
</tr>
<tr>
<td>حكومة.امارات</td>
<td>حكومة</td>
<td>United Arab Emirates IDN ccTLD</td>
</tr>
</table> 
</p>

<h2><a name="how-fast" class="anchor" href="#how-fast"><span class="octicon octicon-link"></span></a>How fast?</h2>

<p>
We did a bunch of tests with a few libraries, regex etc. The regex used was this one:
<pre>^(http|https|ftp)\://([a-zA-Z0-9\.\-]+(\:[a-zA- Z0-9\.&amp;%\$\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1} [0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]| [0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]| 2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\. (25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}| [0-9])|localhost|([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+\. (com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro| aero|coop|museum|[a-zA-Z]{2}))(\:[0-9]+)*(/($|[a-zA- Z0-9\.\,\?\'\\\+&amp;%\$#\=~_\-]+))*$</pre>
</p>
<p>
This is the result graph against 1 million URLs:
</p>
<p>
<div align="center">
<img src="images/faup-bench.png"/>
</div>
</p>

<h2>
<a name="building-faup" class="anchor" href="#building-faup"><span class="octicon octicon-link"></span></a>Building faup</h2>

<p>To get and build faup, you need <a href="http://www.cmake.org/">cmake</a>. As cmake doesn't allow
to build the binary in the source directory, you have to create a build directory.</p>

<pre><code>git clone git://github.com/stricaud/faup.git
cd faup
mkdir build
cd build
cmake .. &amp;&amp; make
sudo make install
</code></pre>
        </section>

        <footer>
          Faup is maintained by <a href="https://github.com/stricaud">stricaud</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
